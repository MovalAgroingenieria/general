<odoo>
    <record id="oma_notification_set_tree_view" model="ir.ui.view">
        <field name="name">oma.notification.set.tree</field>
        <field name="model">oma.notification.set</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="title"/>
                <field name="send_date"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="oma_notification_set_form_view" model="ir.ui.view">
        <field name="name">oma.notification.set.form</field>
        <field name="model">oma.notification.set</field>
        <field name="arch" type="xml">
            <form string="Notification Set">
                <header>
                    <button name="action_prepare"
                                string="Prepare"
                                type="object"
                                class="btn-primary"
                                attrs="{'invisible': [('state', '!=', '01_draft')]}"/>
                    <button name="action_return_to_draft"
                                string="Draft"
                                type="object"
                                class="btn-primary"
                                attrs="{'invisible': [('state', '=', '01_draft')]}"/>
                    <button name="action_send"
                            string="Send"
                            type="object"
                            class="btn-primary"
                            attrs="{'invisible': [('state', '!=', '02_prepared')]}"/>
                    <button name="action_resend"
                            string="Resend"
                            type="object"
                            attrs="{'invisible': [('state', '!=', '04_sent')]}"
                            class="btn-primary"/>
                    <field name="state"
                    widget="statusbar"
                    statusbar_visible="01_draft,02_prepared,03_sending,04_sent"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <field name="notification_ids" invisible="1"/>
                        <button name="action_get_notifications"
                                type="object" class="oe_stat_button"
                                icon="fa-envelope"
                                attrs="{'invisible': [('notification_ids','=',[])]}">
                            <div class="o_form_field o_stat_info">
                                <span class="o_stat_text">Notifications</span>
                            </div>
                        </button>
                    </div>
                    <group>
                        <field name="name" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="title" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="subtitle" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="body" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="url_img" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="url_notification" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="send_date" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                        <field name="token_ids" widget="many2many_tags" attrs="{'readonly': [('state', '!=', '01_draft')]}"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="oma_notification_set_action" model="ir.actions.act_window">
        <field name="name">Notification Sets</field>
        <field name="res_model">oma.notification.set</field>
        <field name="view_mode">tree,form</field>
        <field name="type">ir.actions.act_window</field>
    </record>
</odoo>